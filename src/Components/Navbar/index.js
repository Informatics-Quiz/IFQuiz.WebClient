import React from "react";
import { useNavigate, Link } from "react-router-dom";
import { useDispatch, useSelector } from "react-redux";
import { setUser } from "../../Reducers/userReducer";
import { ReactComponent as HomeSvg } from "../../Assets/svg/home.svg";
import { ReactComponent as ActivitySvg } from "../../Assets/svg/activity.svg";
import { ReactComponent as LogoutSvg } from "../../Assets/svg/logout.svg";
import { ReactComponent as FindQuizSvg } from "../../Assets/svg/find_quiz.svg";
import { ReactComponent as CreateQuizSvg } from "../../Assets/svg/create_quiz.svg";

import "./Navbar.css";

const Navbar2 = () => {
  const dispatch = useDispatch();
  const navigate = useNavigate();
  const isAuthenticated =
    useSelector((state) => state.user.authUser) === null ? false : true;

  function handleClickLogout() {
    dispatch(setUser(null));
    navigate("/");
  }
  const authBlockNav = {
    "/login": true,
    "/signup": true,
    "/login-email": true,
    "/register": true
  };

  console.log(authBlockNav[window.location.pathname] )
  if (window.location.pathname === "/Quiz/Take") return null;
  if (authBlockNav[window.location.pathname]) return null;

  return (
    <nav className="navbar navbar-expand-md">
      {isAuthenticated ? (
        <div className="container-fluid py-2 px-4">
          <div className="d-flex align-items-center">
            <Link
              to="/home"
              className="d-flex align-items-center mx-2"
              style={{ textDecoration: "none", color: "white" }}
            >
              <button className="mx-xl-1">
                <HomeSvg className="home__nav__svg home__fixed" />
                Home
              </button>
            </Link>
            <div className="d-flex align-items-center mx-2">
              <Link
                to="/activity"
                style={{ textDecoration: "none"}}
              >
                <button className="mx-xl-1">
                  <ActivitySvg className="home__nav__svg" />
                  Activity
                </button>
              </Link>
            </div>
            <Link to="/find-quiz"
              style={{ textDecoration: "none"}}
            >
              <div className="d-flex align-items-center mx-2">
                <button className="mx-xl-1">
                  <FindQuizSvg className="home__nav__svg" />
                  Find Quiz
                </button>
              </div>
            </Link>
            <Link
              to="/CreateQuiz"
              style={{ textDecoration: "none", color: "white" }}
            >
              <div className="d-flex align-items-center mx-2">
                <button className="mx-xl-1">
                  <CreateQuizSvg className="home__nav__svg" />
                  Create Quiz
                </button>
              </div>
            </Link>
          </div>
          <div className="d-flex align-items-center">
            <button onClick={handleClickLogout} className="mx-xl-1">
              <LogoutSvg className="home__nav__svg" />
              Logout
            </button>
          </div>
        </div>
      ) : window.location.pathname == "/signup" ||
        window.location.pathname == "/login" ? (
        <div className="container-fluid py-2 px-4">
          <Link
            to="/"
            style={{ textDecoration: "none", color: "white" }}
          ></Link>
          <div className="d-flex align-items-center">
            {window.location.pathname == "/signup" ? (
              <Link
                to="/login"
                className="login__btn"
                style={{ textDecoration: "none", color: "white" }}
              >
                <svg width="18" height="18" viewBox="0 0 147 147" fill="none">
                  <path
                    d="M73.2219 0C32.7727 0 0 32.7727 0 73.2219C0 113.671 32.7727 146.444 73.2219 146.444C113.671 146.444 146.444 113.671 146.444 73.2219C146.444 32.7727 113.671 0 73.2219 0ZM73.2219 28.344C87.571 28.344 99.2039 39.9768 99.2039 54.3259C99.2039 68.6751 87.571 80.3079 73.2219 80.3079C58.8728 80.3079 47.2399 68.6751 47.2399 54.3259C47.2399 39.9768 58.8728 28.344 73.2219 28.344ZM73.2219 129.91C55.8908 129.91 40.3606 122.056 29.9678 109.774C35.5185 99.322 46.3837 92.1179 59.0499 92.1179C59.7585 92.1179 60.4671 92.236 61.1462 92.4427C64.9844 93.6827 68.9998 94.4799 73.2219 94.4799C77.444 94.4799 81.4889 93.6827 85.2976 92.4427C85.9767 92.236 86.6853 92.1179 87.3939 92.1179C100.06 92.1179 110.925 99.322 116.476 109.774C106.083 122.056 90.5531 129.91 73.2219 129.91Z"
                    fill="white"
                  />
                </svg>
                Login
              </Link>
            ) : (
              <Link
                to="/signup"
                className="signup__btn"
                style={{ textDecoration: "none", color: "white" }}
              >
                <svg width="20" height="20" viewBox="0 0 147 147" fill="none">
                  <path
                    d="M139.262 9.27477C134.241 3.55649 126.779 0 118.55 0C110.74 0 103.627 3.20782 98.5363 8.43795C95.6074 11.4366 93.3759 15.0628 92.051 19.1074C91.1444 21.8968 90.6562 24.8257 90.6562 27.8941C90.6562 33.1242 92.1207 38.0754 94.7009 42.2595C96.0956 44.6305 97.9087 46.7923 100.001 48.6054C104.882 53.0684 111.368 55.7881 118.55 55.7881C121.619 55.7881 124.548 55.3 127.267 54.3237C133.683 52.3014 139.052 47.908 142.4 42.2595C143.864 39.8885 144.98 37.1688 145.608 34.3794C146.165 32.2874 146.444 30.1256 146.444 27.8941C146.444 20.7811 143.725 14.226 139.262 9.27477ZM128.941 32.9847H123.78V38.4241C123.78 41.2832 121.409 43.6542 118.55 43.6542C115.691 43.6542 113.32 41.2832 113.32 38.4241V32.9847H108.16C105.301 32.9847 102.93 30.6137 102.93 27.7546C102.93 24.8954 105.301 22.5245 108.16 22.5245H113.32V17.5733C113.32 14.7141 115.691 12.3431 118.55 12.3431C121.409 12.3431 123.78 14.7141 123.78 17.5733V22.5245H128.941C131.8 22.5245 134.171 24.8954 134.171 27.7546C134.171 30.6137 131.87 32.9847 128.941 32.9847Z"
                    fill="white"
                  />
                  <path
                    d="M139.47 76.7088C139.47 67.5735 137.727 58.7869 134.449 50.7673C132.288 52.3015 129.847 53.487 127.267 54.3238C126.5 54.6027 125.732 54.812 124.896 55.0212C127.546 61.7157 129.01 69.0379 129.01 76.7088C129.01 92.8873 122.455 107.601 111.855 118.341C109.833 115.76 107.253 113.389 104.184 111.367C85.2861 98.6754 54.3237 98.6754 35.286 111.367C32.2176 113.389 29.7072 115.76 27.6151 118.341C17.0154 107.601 10.4603 92.8873 10.4603 76.7088C10.4603 44.003 37.0294 17.4339 69.7352 17.4339C77.3363 17.4339 84.6585 18.8983 91.3531 21.5483C91.5623 20.7115 91.7715 19.9444 92.0504 19.1075C92.8872 16.5273 94.0727 14.1564 95.6766 11.9946C87.6571 8.71701 78.8705 6.97363 69.7352 6.97363C31.3111 6.97363 0 38.2847 0 76.7088C0 96.932 8.71689 115.133 22.5245 127.894C22.5245 127.964 22.5245 127.964 22.4547 128.034C23.1521 128.731 23.9889 129.289 24.6862 129.917C25.1047 130.265 25.4533 130.614 25.8717 130.893C27.127 131.939 28.5217 132.915 29.8466 133.892C30.3348 134.24 30.7532 134.519 31.2413 134.868C32.5663 135.774 33.961 136.611 35.4255 137.378C35.9136 137.657 36.4715 138.006 36.9596 138.285C38.3543 139.052 39.8188 139.749 41.3529 140.377C41.9108 140.656 42.4687 140.935 43.0266 141.144C44.5608 141.772 46.0949 142.33 47.6291 142.818C48.187 143.027 48.7449 143.236 49.3028 143.376C50.9764 143.864 52.65 144.282 54.3237 144.701C54.8118 144.84 55.3 144.979 55.8579 145.049C57.8104 145.468 59.763 145.747 61.7853 145.956C62.0643 145.956 62.3432 146.026 62.6222 146.095C64.9932 146.304 67.3642 146.444 69.7352 146.444C72.1062 146.444 74.4771 146.304 76.7784 146.095C77.0573 146.095 77.3363 146.026 77.6152 145.956C79.6375 145.747 81.5901 145.468 83.5427 145.049C84.0309 144.979 84.519 144.77 85.0769 144.701C86.7505 144.282 88.4939 143.933 90.0978 143.376C90.6557 143.166 91.2136 142.957 91.7715 142.818C93.3056 142.26 94.9095 141.772 96.374 141.144C96.9319 140.935 97.4897 140.656 98.0476 140.377C99.5121 139.749 100.977 139.052 102.441 138.285C102.999 138.006 103.487 137.657 103.975 137.378C105.37 136.542 106.765 135.774 108.159 134.868C108.647 134.589 109.066 134.24 109.554 133.892C110.949 132.915 112.274 131.939 113.529 130.893C113.947 130.544 114.296 130.196 114.714 129.917C115.481 129.289 116.249 128.661 116.946 128.034C116.946 127.964 116.946 127.964 116.876 127.894C130.753 115.133 139.47 96.932 139.47 76.7088Z"
                    fill="white"
                  />
                  <path
                    d="M69.7347 41.3506C55.2995 41.3506 43.584 53.0661 43.584 67.5013C43.584 81.6576 54.6719 93.1639 69.386 93.5823H70.0136H70.5018H70.6412C84.7277 93.0941 95.8156 81.6576 95.8854 67.5013C95.8854 53.0661 84.1698 41.3506 69.7347 41.3506Z"
                    fill="white"
                  />
                </svg>
                Signup
              </Link>
            )}
          </div>
        </div>
      ) : (
        <div className="container-fluid py-2 px-4">
          <Link
            to="/"
            style={{ textDecoration: "none", color: "white" }}
          ></Link>
          <div className="d-flex align-items-center">
            <Link
              to="/login"
              className="login__btn"
              style={{ textDecoration: "none", color: "white" }}
            >
              <svg width="18" height="18" viewBox="0 0 147 147" fill="none">
                <path
                  d="M73.2219 0C32.7727 0 0 32.7727 0 73.2219C0 113.671 32.7727 146.444 73.2219 146.444C113.671 146.444 146.444 113.671 146.444 73.2219C146.444 32.7727 113.671 0 73.2219 0ZM73.2219 28.344C87.571 28.344 99.2039 39.9768 99.2039 54.3259C99.2039 68.6751 87.571 80.3079 73.2219 80.3079C58.8728 80.3079 47.2399 68.6751 47.2399 54.3259C47.2399 39.9768 58.8728 28.344 73.2219 28.344ZM73.2219 129.91C55.8908 129.91 40.3606 122.056 29.9678 109.774C35.5185 99.322 46.3837 92.1179 59.0499 92.1179C59.7585 92.1179 60.4671 92.236 61.1462 92.4427C64.9844 93.6827 68.9998 94.4799 73.2219 94.4799C77.444 94.4799 81.4889 93.6827 85.2976 92.4427C85.9767 92.236 86.6853 92.1179 87.3939 92.1179C100.06 92.1179 110.925 99.322 116.476 109.774C106.083 122.056 90.5531 129.91 73.2219 129.91Z"
                  fill="white"
                />
              </svg>
              Login
            </Link>
            <Link
              to="/signup"
              className="signup__btn"
              style={{ textDecoration: "none", color: "white" }}
            >
              <svg width="20" height="20" viewBox="0 0 147 147" fill="none">
                <path
                  d="M139.262 9.27477C134.241 3.55649 126.779 0 118.55 0C110.74 0 103.627 3.20782 98.5363 8.43795C95.6074 11.4366 93.3759 15.0628 92.051 19.1074C91.1444 21.8968 90.6562 24.8257 90.6562 27.8941C90.6562 33.1242 92.1207 38.0754 94.7009 42.2595C96.0956 44.6305 97.9087 46.7923 100.001 48.6054C104.882 53.0684 111.368 55.7881 118.55 55.7881C121.619 55.7881 124.548 55.3 127.267 54.3237C133.683 52.3014 139.052 47.908 142.4 42.2595C143.864 39.8885 144.98 37.1688 145.608 34.3794C146.165 32.2874 146.444 30.1256 146.444 27.8941C146.444 20.7811 143.725 14.226 139.262 9.27477ZM128.941 32.9847H123.78V38.4241C123.78 41.2832 121.409 43.6542 118.55 43.6542C115.691 43.6542 113.32 41.2832 113.32 38.4241V32.9847H108.16C105.301 32.9847 102.93 30.6137 102.93 27.7546C102.93 24.8954 105.301 22.5245 108.16 22.5245H113.32V17.5733C113.32 14.7141 115.691 12.3431 118.55 12.3431C121.409 12.3431 123.78 14.7141 123.78 17.5733V22.5245H128.941C131.8 22.5245 134.171 24.8954 134.171 27.7546C134.171 30.6137 131.87 32.9847 128.941 32.9847Z"
                  fill="white"
                />
                <path
                  d="M139.47 76.7088C139.47 67.5735 137.727 58.7869 134.449 50.7673C132.288 52.3015 129.847 53.487 127.267 54.3238C126.5 54.6027 125.732 54.812 124.896 55.0212C127.546 61.7157 129.01 69.0379 129.01 76.7088C129.01 92.8873 122.455 107.601 111.855 118.341C109.833 115.76 107.253 113.389 104.184 111.367C85.2861 98.6754 54.3237 98.6754 35.286 111.367C32.2176 113.389 29.7072 115.76 27.6151 118.341C17.0154 107.601 10.4603 92.8873 10.4603 76.7088C10.4603 44.003 37.0294 17.4339 69.7352 17.4339C77.3363 17.4339 84.6585 18.8983 91.3531 21.5483C91.5623 20.7115 91.7715 19.9444 92.0504 19.1075C92.8872 16.5273 94.0727 14.1564 95.6766 11.9946C87.6571 8.71701 78.8705 6.97363 69.7352 6.97363C31.3111 6.97363 0 38.2847 0 76.7088C0 96.932 8.71689 115.133 22.5245 127.894C22.5245 127.964 22.5245 127.964 22.4547 128.034C23.1521 128.731 23.9889 129.289 24.6862 129.917C25.1047 130.265 25.4533 130.614 25.8717 130.893C27.127 131.939 28.5217 132.915 29.8466 133.892C30.3348 134.24 30.7532 134.519 31.2413 134.868C32.5663 135.774 33.961 136.611 35.4255 137.378C35.9136 137.657 36.4715 138.006 36.9596 138.285C38.3543 139.052 39.8188 139.749 41.3529 140.377C41.9108 140.656 42.4687 140.935 43.0266 141.144C44.5608 141.772 46.0949 142.33 47.6291 142.818C48.187 143.027 48.7449 143.236 49.3028 143.376C50.9764 143.864 52.65 144.282 54.3237 144.701C54.8118 144.84 55.3 144.979 55.8579 145.049C57.8104 145.468 59.763 145.747 61.7853 145.956C62.0643 145.956 62.3432 146.026 62.6222 146.095C64.9932 146.304 67.3642 146.444 69.7352 146.444C72.1062 146.444 74.4771 146.304 76.7784 146.095C77.0573 146.095 77.3363 146.026 77.6152 145.956C79.6375 145.747 81.5901 145.468 83.5427 145.049C84.0309 144.979 84.519 144.77 85.0769 144.701C86.7505 144.282 88.4939 143.933 90.0978 143.376C90.6557 143.166 91.2136 142.957 91.7715 142.818C93.3056 142.26 94.9095 141.772 96.374 141.144C96.9319 140.935 97.4897 140.656 98.0476 140.377C99.5121 139.749 100.977 139.052 102.441 138.285C102.999 138.006 103.487 137.657 103.975 137.378C105.37 136.542 106.765 135.774 108.159 134.868C108.647 134.589 109.066 134.24 109.554 133.892C110.949 132.915 112.274 131.939 113.529 130.893C113.947 130.544 114.296 130.196 114.714 129.917C115.481 129.289 116.249 128.661 116.946 128.034C116.946 127.964 116.946 127.964 116.876 127.894C130.753 115.133 139.47 96.932 139.47 76.7088Z"
                  fill="white"
                />
                <path
                  d="M69.7347 41.3506C55.2995 41.3506 43.584 53.0661 43.584 67.5013C43.584 81.6576 54.6719 93.1639 69.386 93.5823H70.0136H70.5018H70.6412C84.7277 93.0941 95.8156 81.6576 95.8854 67.5013C95.8854 53.0661 84.1698 41.3506 69.7347 41.3506Z"
                  fill="white"
                />
              </svg>
              Signup
            </Link>
          </div>
        </div>
      )}
    </nav>
  );
};
export default Navbar2;
